<%= render 'layouts/user_navbar' %>

<% if flash[:info] %>
  <div class="alert alert-primary" role="alert">
    <%= flash[:info] %>
  </div>
<% end %> 

<div class="mt-5 border p-2">
  <div class="border-bottom pb-3">
    <ul class="nav nav-pills nav-fill">
      <li class="nav-item">
        <a class="nav-link active border w-75" id = 'attendance_nav'>Atendimento</a>
      </li>
      <li class="nav-item">
        <a class="nav-link border w-75" id = 'exam_nav'>Exames</a>
      </li>
      <li class="nav-item">
        <a class="nav-link border w-75" id = 'sample_nav'>Amostras</a>
      </li>
      <li class="nav-item">
        <a class="nav-link border w-75" id = 'subsample_nav'>Subamostras</a>
      </li>
      <li class="nav-item">
        <a class="nav-link border w-75" id = 'work_map_nav'>Mapa de trabalho</a>
      </li>
      <li class="nav-item">
        <a class="nav-link border w-75" id = 'report_nav'>Laudo</a>
      </li>
    </ul>
  </div>
  <div class="mt-3">
  	<div id = 'attendance_tab'>
			<%= render 'attendances/forms/attendance' %>
		</div>

		<div hidden id = 'exams_tab'>
			<%= render 'attendances/forms/exams' %>
		</div>

		<div hidden id = 'samples_tab'>
			<%= render 'attendances/forms/samples' %>
		</div>

    <div hidden id = 'subsample_tab'>
      <%= render 'attendances/forms/subsamples' %>
    </div>

    <div hidden id = 'report_tab'>
      <%= render 'attendances/forms/report' %>
    </div>

  </div>
</div>


<script>

  $('#attendance_nav').click(event => {
    event.preventDefault()
    $('#attendance_tab').removeAttr('hidden')
    $('#exams_tab').attr('hidden', 'hidden')
    $('#samples_tab').attr('hidden', 'hidden')
    $('#subsample_tab').attr('hidden', 'hidden')
    $('#work_map_tab').attr('hidden', 'hidden')
    $('#report_tab').attr('hidden', 'hidden')
    $('#attendance_nav').addClass('active')
    $('#exam_nav').removeClass('active')
    $('#sample_nav').removeClass('active')
    $('#subsample_nav').removeClass('active')
    $('#work_map_nav').removeClass('active')
    $('#report_nav').removeClass('active')
  })

  $('#exam_nav').click(event => {
    event.preventDefault()
    $('#attendance_tab').attr('hidden', 'hidden')
    $('#exams_tab').removeAttr('hidden')
    $('#samples_tab').attr('hidden', 'hidden')
    $('#subsample_tab').attr('hidden', 'hidden')
    $('#work_map_tab').attr('hidden', 'hidden')
    $('#report_tab').attr('hidden', 'hidden')
    $('#attendance_nav').removeClass('active')
    $('#exam_nav').addClass('active')
    $('#sample_nav').removeClass('active')
    $('#subsample_nav').removeClass('active')
    $('#work_map_nav').removeClass('active')
    $('#report_nav').removeClass('active')
  })

  $('#sample_nav').click(event => {
    event.preventDefault()
    $('#attendance_tab').attr('hidden', 'hidden')
    $('#exams_tab').attr('hidden', 'hidden')
    $('#samples_tab').removeAttr('hidden')
    $('#subsample_tab').attr('hidden', 'hidden')
    $('#work_map_tab').attr('hidden', 'hidden')
    $('#report_tab').attr('hidden', 'hidden')
    $('#attendance_nav').removeClass('active')
    $('#exam_nav').removeClass('active')
    $('#sample_nav').addClass('active')
    $('#subsample_nav').removeClass('active')
    $('#work_map_nav').removeClass('active')
    $('#report_nav').removeClass('active')
  })

  $('#subsample_nav').click(event => {
      event.preventDefault()
      $('#attendance_tab').attr('hidden', 'hidden')
      $('#exams_tab').attr('hidden', 'hidden')
      $('#samples_tab').attr('hidden', 'hidden')
      $('#subsample_tab').removeAttr('hidden')
      $('#work_map_tab').attr('hidden', 'hidden')
      $('#report_tab').attr('hidden', 'hidden')
      $('#attendance_nav').removeClass('active')
      $('#exam_nav').removeClass('active')
      $('#sample_nav').removeClass('active')
      $('#subsample_nav').addClass('active')
      $('#work_map_nav').removeClass('active')
      $('#report_nav').removeClass('active')
    })

  $('#report_nav').click(event => {
      event.preventDefault()
      $('#attendance_tab').attr('hidden', 'hidden')
      $('#exams_tab').attr('hidden', 'hidden')
      $('#samples_tab').attr('hidden', 'hidden')
      $('#subsample_tab').attr('hidden', 'hidden')
      $('#work_map_tab').attr('hidden', 'hidden')
      $('#report_tab').removeAttr('hidden')
      $('#attendance_nav').removeClass('active')
      $('#exam_nav').removeClass('active')
      $('#sample_nav').removeClass('active')
      $('#subsample_nav').removeClass('active')
      $('#work_map_nav').removeClass('active')
      $('#report_nav').addClass('active')
    })

</script>